画面のインポート
===

このページでは、Web画面からWebのオペレーションモデルを生成する方法について説明します。
SWATキャプチャーツールのインストール
---

**SWATキャプチャツールは**SWAT画面ナレッジのインポートで使用されるWebアプリケーションのHTMLsをキャプチャするためのブラウザ拡張機能です。 SWATはまたブラウザ機能による`HTMLとして保存`を使い、保存形式としてHTMLsをサポートしています。 WebアプリケーションでリアルタイムレンダリングされたHTMLでフレーム構造を扱うには、**SWATのキャプチャツール**で Webアプリケーションをキャプチャする必要があります。

**SWATのキャプチャツールは**現在Google ChromeとInternetExplorerで提供されています。このガイドではchromeを使います。セットアップの詳細は、[Setup Tools and Integrations](setup_tools.md#SWAT_Capture_Tool)を参照ください。 

Chrome拡張機能のインストールと使用は簡単です。以下の手順に従ってください

1. Chromeブラウザを開き、Chrome Webストアの次画面へ[SWAT Capture Tool page](https://chrome.google.com/webstore/detail/lblhhpmbencpjckcgehlfndpibomonie) 
2. **＋無料**ボタンで拡張機能をインストールします。 インストール完了後は、ChromeのツールバーにSWATアイコン[SWAT icon](assets/images/extension.png)が表示されます。
3. 任意のWeb画面を開き、SWATアイコン[SWAT icon](assets/images/extension.png) をクリックします。 
4. SHTMLタイプのファイルは、デフォルトでは自動的にダウンロードフォルダーに保存されます。

HTMLsインポートの準備
---

*Bing検索アシスタント*のサンプルシナリオでは、2つのHTMLs、一つの検索画面と検索アシスタントの検索画面が必要です。

1. **SWATキャプチャーツール**がインストールされたブラウザで、 http://www.bing.com サイトを開きます。
2. 検索画面がロードされたら、SWATキャプチャーツールのSWATアイコン[SWAT icon](assets/images/extension.png)をクリックします。ファイル名は`Bing.shtml`で保存します。
3. 検索ボックスに任意のキーワードを入力し、検索アシストされるまで待ち、プルダウンにキーワード候補が表示されます。
4. SWATアイコン[SWAT icon](assets/images/extension.png)を再びクリックしキーワード候補が表示された画面を保存します。ファイル名を`BingSA.shtml`とします。

ヒント：実際には、`BingSA.shtml`は`Bing.shtml`内のすべての情報が含まれています。よって、`BingSA.shtml`のみ使用すれば問題ありません。デモガイドに2画面を使用します。

SWATナレッジベースについて
---

SWATはナレッジドリブン自動化として、シナリオ構築、保守および実行をサポートするナレッジベースを使用しています。SWATのナレッジベースは以下コンポーネントを含みます。：

* **サイト**: 文字セットのような画面共有と同じ性質を管理するための管理コンテナ。通常は、実際のサイトまたはウェブアプリケーションに対応。
* **画面**: Webアプリケーションの画面。 
* **ルール**: ナレッジルールは画面の実装をSWATが理解。
* **オペレーション**: *ログイン*や*検索*のような会話型オペレーション画面。会話型ノードセットの情報を含む。
* **ノード**: テキストボックスやボタンのようなオペレーションの会話型ノード。
* **フロー**: 特定のビジネス上のWebアプリケーションワークフローを意味する。それはオペレーションのいくつかのステップを含む。 ここでの説明を参照。[Working with Flows](article_flow.md)

ヒント: 最初に十分なナレッジベースの組み立ては、はるかに効率的なシナリオ構築を以下の手順で行います。
サイトの作成
---

最初にSWATナレッジベースに*Bing*の新しいサイト追加が必要。

1. メニュータグのサービス設定から**サイト設定**を開きます。
2. 新しいサイトを作成（＋）ボタンをクリックします。
3. タイトルを`Bing`、HTMLエンコードを`UTF-8`とします。
4. デフォルト値を使用し他の設定をそのままにして、サイトを作成します。
ノート：SWATは、サブスクリプションでサイト作成の上限があります。これ以上にサイトが作成できない場合は、(or [us](mailto:sales@smartekworks.com) in case of trial)へ連絡ください。
画面のインポート
---

1. メニュータグのナレッジから**画面ナレッジ**を開きます。
2. **検索**テキストボックス下のサイトプルダウンリストから`Bing`サイトを選択。`Bing`サイトのナレッジツリー画面が表示。
3. 画面ナレッジ追加ボタンをクリックし、**画面ナレッジメンテナンス**画面がが表示。
4. `Bing.shtml`と`BingSA.shtml`をzipファイルにまとめる。成(1つ1つのファイルをインポートすることができます）
5. **対象サイト**は`Bing`であることを確認し、**ファイルを選択**ボタンをクリックし4で作成したzipファイルを選びます。
6. **ファイル名のエンコード**はzipファイル内のファイル名のエンコーディングを指し、英語のファイル名を使う場合このオプションを変える必要はありません。
7. インポート時に**解析ルール**のカスタマイズを選ぶことができます。 カスタマイズされたものを用意していないので、デフォルトのままとします。
8. **Start**ボタンをクリックし、その後SWATはのHTMLsの構文解析を開始します。 進捗は左側に表示されます。
9. 解析が完了した後、`Bing` と `BingSA` は**画面ナレッジメンテナンス**画面に表示されます。
10. **戻る**ボタンをクリックし、ナレッジツリー画面内に２つの新しい画面ナレッジが追加されたことを確認します。 
11. `Bing`画面を選択し、その下に3つのナレッジオペレーションを確認します。 
12. どれかナレッジオペレーションを選択すると、ハイライト表示されたオペレーションのノードが確認できます（テーブル、オペレーション、検索、３つのナレッジオペレーション)

設定プレビュー
---

操作プレビューは、ナレッジ管理とシナリオ作成に非常に有効です。プレビューではCSSを必要としません、なぜなら任意のリソースファイルを使用せずにHTMLソースだけをインポートするからです（HTMLがリソースに対して完全なURLを使用することを除く）。リモートリソースを使用するように設定をすることができます。
ノート：`https`を使ってSWATサーバーへアクセスする場合、`http`ではリソースにアクセスできません。SWATメニュータグのサービス設定から**サイト設定**画面でSWATに必要なリソースをアップロードし、リモートリソースとしてそれらを構成します。
#### リソースURLを分析

ブラウザのビルドイン開発ツールを使い、*Firebugs*のような拡張機能でプレビューフレーム内のHTMLソースを検査します。以下URLを参照。

* `http://www.bing.com/...`: このタイプのURLは、SWATプレビューで動作するので、何か特別な処置は必要はありません.
* `/images/search...`: このタイプのURLは、プレビューで`Bing`の代わりにSWATのサービスドメインを使い、 `http://www.bing.com/`をドメインに追加する必要があります。

#### サイト設定の変更

1. SWATメニュータグのサービス設定から**サイト設定**画面を開き、左側に表示されている`Bing`サイトを選択します。
2. **URLプレビュー**に`http://www.bing.com/`を入力し、`/images/search...`.を`http://www.bing.com/`に追加します。
3. 設定を保存し、**画面ナレッジ**のプレビューで画面イメージを確認します。

#### 相対的URLの取扱

HTMLの`img/a.png`, `..img/a.css`のような相対的なURLを確認します。このような場合、算出された絶対URLにURL全体を変換しなければなりません。

1. メニュータグのサービス設定から**サイト設定**を開きます。
2. **プレビュー用ルール**の**編集**ボタンをクリックし、プレビュー用置換ルール画面が表示されます。 
3. ここでのルールは、mapのJSONリストです。keyはsource、valueはdestination textです。例えば、
```json
[
	{"img/":"http://www.sample.com/a/img/"},
	{"../img/":"http://www.sample.com/a/img/"}
]
```
4. ダイアログを閉じた後は必ず設定の保存をしてください。

次へ
----

SWATのナレッジ·ベースにインポートされた画面があります。それ使いシナリオを作成する前にまだいくつかの設定を行う必要があります。
次は、ナレッジルールのカスタマイズ方法、画面と操作の編集方法を説明します。

Go to [Tuning Page Knowledge](guide_tuning.md).