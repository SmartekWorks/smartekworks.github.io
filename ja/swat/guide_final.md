実プロジェクトでの利用
===

ここでは実プロジェクトでSWATを利用する際に必要な情報を説明します。

サイトの構築
---

実プロジェクトに導入する際に、テスト対象サイトの構築が必要です。

通常のプロジェクトでは１サイトですべてのアプリ画面をまとめることができますが、下記の場合複数サイトを構築する必要があります。

* 物理的に複数サイトに跨いてテストを行う場合。
* 同じサイトの配下に実装が違う複数の論理的なサイトが存在する場合、例えば、管理者エリアと利用者エリアがそれぞれ違う作りである場合。

この様な複数サイトで画面ナレッジの管理や、シナリオ実行のセッティングをサポートすることで、テストをシームレスに行うことができます。

画面ナレッジプレビューの設定
---

画面ナレッジをサイトにインポートしますと、画面ナレッジ一覧で画面プレビューを確認することができます。

画面ナレッジプレビューは、ナレッジ管理とシナリオ作成に非常に有効ですが、HTMLソースだけをインポートするため、プレビューに必要なCSSなどのリソースファイルに正しくアクセスする必要があります。[SWATキャプチャー](setup_tools.md#SWATキャプチャー)を利用して画面をインポートする場合、リソースファイルのURLを自動的にセットします。手動でベースのURLを変更したい場合もあります。

#### プレビューURLの変更

1. SWATのサービス設定メニューから**サイト設定**画面を開き、左側に表示されている`Bing`サイトを選択します。
2. **プレビューURL**に`http://www.bing.com/`を入力し、`/images/search...`とか`..img/a.css`などの相対パスにベースURLの`http://www.bing.com/`に追加します。
3. 設定を保存し、**画面ナレッジ**のプレビューで画面イメージを確認します。

Note: `https`を使ってSWATを利用する場合、プレビューの`http`のリソースにアクセスするために、ブラウザの許可設定を行う必要があります。

画面ナレッジのチューニング
---

SWATはナレッジルールを利用して、様々なオペレーションをHTMLから解析します。デフォルトルールで通常は多くのHTMLページに対応しますが、実プロジェクトで導入する際に解析結果が期待と異なる場合があります。

デフォルトルールで幾つか典型的な画面をインポートした後に、解析結果が期待と異なる所は画面ナレッジチューニングを行うことお勧めします。

先ほどの[画面ナレッジカスタマイズ](guide_tuning.md)で、すでにチューニングの仕方を理解いただけたかと思います。ここでは、実プロジェクトでのチューニングのヒントをまとめます。

* 対象WebアプリがJavaScript GUIフレームワーク（例えば**jQuery UI**, **Kendo UI**, **ExtJS**など）ベースの場合、SWATサポートにコンタクトしてください。それらのフレームワークを対応するルールを弊社より提供します。
* 画面の共通部（例えばヘッダー、フッター、メニュー）をまずチューニング対象として行うことお勧めします。、他のオペレーションと混同しないためです。
* デフォルトルールではHTMLタグのコンテキストを含めて解析を行っているため、関連ノードをまとめることがよくあります。しかし、実装によっては、このようなまとめ方が必ずしも良いとは限りません。この観点でデフォルトの解析結果ををレビューするのことがまずはよいでしょう。

フローを設計
---

実プロジェクトのサンプルシナリオでき、本格的にテスト設計に入るまでに、フローの設計を行うことをお勧めします。詳細については[フローの活用](article_flow.md)を参照してください。ここではいくつかのヒントを書きます。

* 共通的な画面操作の流れ（例えばログイン、ログアウト、メニュー操作など）をフローにまとめます。
* 単なる操作の流れよりは、業務的に意味を持つかたまりをフローとしてまとめのが効率的です。例えば、*振り込み元*、*振り込み先*、*金額*のパラメータを持つ*振り込み*フローが色々なシナリオで再利用できます。

テスト自動化を楽しもう
---

様々な状況でSWATを使いこなすにはノウハウ集を参照ください。また、仕様の詳細を知りたい場合は、リファレンスを参照ください。

テスト自動化を楽しもう。
